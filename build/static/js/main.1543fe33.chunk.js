(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(24).concat([function(e,t,a){e.exports=a.p+"static/media/b.36829967.svg"},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(151)},,,,,function(e,t,a){},,function(e,t,a){var n={"./10c.svg":61,"./10d.svg":62,"./10h.svg":63,"./10s.svg":64,"./1c.svg":65,"./1d.svg":66,"./1h.svg":67,"./1s.svg":68,"./1s2.svg":69,"./2c.svg":70,"./2d.svg":71,"./2h.svg":72,"./2s.svg":73,"./3c.svg":74,"./3d.svg":75,"./3h.svg":76,"./3s.svg":77,"./4c.svg":78,"./4d.svg":79,"./4h.svg":80,"./4s.svg":81,"./5c.svg":82,"./5d.svg":83,"./5h.svg":84,"./5s.svg":85,"./6c.svg":86,"./6d.svg":87,"./6h.svg":88,"./6s.svg":89,"./7c.svg":90,"./7d.svg":91,"./7h.svg":92,"./7s.svg":93,"./8c.svg":94,"./8d.svg":95,"./8h.svg":96,"./8s.svg":97,"./9c.svg":98,"./9d.svg":99,"./9h.svg":100,"./9s.svg":101,"./b.svg":24,"./jc.svg":102,"./jd.svg":103,"./jh.svg":104,"./js.svg":105,"./kc.svg":106,"./kd.svg":107,"./kh.svg":108,"./ks.svg":109,"./qc.svg":110,"./qd.svg":111,"./qh.svg":112,"./qs.svg":113};function r(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=60},function(e,t,a){e.exports=a.p+"static/media/10c.46d30fd4.svg"},function(e,t,a){e.exports=a.p+"static/media/10d.7f2f14fe.svg"},function(e,t,a){e.exports=a.p+"static/media/10h.c22bc3db.svg"},function(e,t,a){e.exports=a.p+"static/media/10s.241d8ed7.svg"},function(e,t,a){e.exports=a.p+"static/media/1c.5522f7ee.svg"},function(e,t,a){e.exports=a.p+"static/media/1d.74a874d9.svg"},function(e,t,a){e.exports=a.p+"static/media/1h.ef7c50b8.svg"},function(e,t,a){e.exports=a.p+"static/media/1s.b39d7ba4.svg"},function(e,t,a){e.exports=a.p+"static/media/1s2.49b14f5f.svg"},function(e,t,a){e.exports=a.p+"static/media/2c.8dc0f91e.svg"},function(e,t,a){e.exports=a.p+"static/media/2d.9b2b7d93.svg"},function(e,t,a){e.exports=a.p+"static/media/2h.25a4bbad.svg"},function(e,t,a){e.exports=a.p+"static/media/2s.c0ad7af1.svg"},function(e,t,a){e.exports=a.p+"static/media/3c.ee94f47c.svg"},function(e,t,a){e.exports=a.p+"static/media/3d.62d35b8b.svg"},function(e,t,a){e.exports=a.p+"static/media/3h.6d8ff3cf.svg"},function(e,t,a){e.exports=a.p+"static/media/3s.203ae462.svg"},function(e,t,a){e.exports=a.p+"static/media/4c.563d3b84.svg"},function(e,t,a){e.exports=a.p+"static/media/4d.f8ffb533.svg"},function(e,t,a){e.exports=a.p+"static/media/4h.8dfeaf44.svg"},function(e,t,a){e.exports=a.p+"static/media/4s.c2b2773e.svg"},function(e,t,a){e.exports=a.p+"static/media/5c.6d08c7ed.svg"},function(e,t,a){e.exports=a.p+"static/media/5d.c4aaf080.svg"},function(e,t,a){e.exports=a.p+"static/media/5h.9ec9a068.svg"},function(e,t,a){e.exports=a.p+"static/media/5s.c33993c5.svg"},function(e,t,a){e.exports=a.p+"static/media/6c.a50f5ff5.svg"},function(e,t,a){e.exports=a.p+"static/media/6d.059d1dd1.svg"},function(e,t,a){e.exports=a.p+"static/media/6h.8f4927bf.svg"},function(e,t,a){e.exports=a.p+"static/media/6s.7a17f80a.svg"},function(e,t,a){e.exports=a.p+"static/media/7c.e01096e8.svg"},function(e,t,a){e.exports=a.p+"static/media/7d.9f5c264a.svg"},function(e,t,a){e.exports=a.p+"static/media/7h.70e74661.svg"},function(e,t,a){e.exports=a.p+"static/media/7s.ed1ebdb6.svg"},function(e,t,a){e.exports=a.p+"static/media/8c.9d0a476c.svg"},function(e,t,a){e.exports=a.p+"static/media/8d.1939b5d5.svg"},function(e,t,a){e.exports=a.p+"static/media/8h.c1f64ceb.svg"},function(e,t,a){e.exports=a.p+"static/media/8s.8766a7e1.svg"},function(e,t,a){e.exports=a.p+"static/media/9c.17b4ae55.svg"},function(e,t,a){e.exports=a.p+"static/media/9d.c7cf4433.svg"},function(e,t,a){e.exports=a.p+"static/media/9h.20dd2315.svg"},function(e,t,a){e.exports=a.p+"static/media/9s.4a95f37c.svg"},function(e,t,a){e.exports=a.p+"static/media/jc.805671d1.svg"},function(e,t,a){e.exports=a.p+"static/media/jd.a01339b2.svg"},function(e,t,a){e.exports=a.p+"static/media/jh.2a10f735.svg"},function(e,t,a){e.exports=a.p+"static/media/js.9e20aecd.svg"},function(e,t,a){e.exports=a.p+"static/media/kc.57675a2c.svg"},function(e,t,a){e.exports=a.p+"static/media/kd.f537ae10.svg"},function(e,t,a){e.exports=a.p+"static/media/kh.2ea2a962.svg"},function(e,t,a){e.exports=a.p+"static/media/ks.17a0a4d7.svg"},function(e,t,a){e.exports=a.p+"static/media/qc.c47281bb.svg"},function(e,t,a){e.exports=a.p+"static/media/qd.eaa1f925.svg"},function(e,t,a){e.exports=a.p+"static/media/qh.37ac6fed.svg"},function(e,t,a){e.exports=a.p+"static/media/qs.348b64ba.svg"},,function(e,t,a){},,,function(e,t,a){},,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),i=a.n(s),c=(a(58),a(156),a(154),a(157),a(59),a(3)),o=a(4),d=a(6),l=a(5),u=a(7);function h(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw s}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}for(var f={},v=["c","d","h","s"],g=function(e,t){var n,r=h(v);try{for(r.s();!(n=r.n()).done;){var s=n.value;t[e+s]=a(60)("./"+e+s+".svg")}}catch(i){r.e(i)}finally{r.f()}},y=1;y<10;y++)g(y,f);for(var m=0,k=["j","q","k"];m<k.length;m++){g(k[m],f)}f.flipped=a(24).default,f.flipped=a(24);var b=f,S=a(18),x=a.n(S),w=a(13),O=(a(115),a(51)),C=a.n(O),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={flipped:e.flipped||"hide"===e.card,card:e.card,height:e.height,flippable:e.flippable,elevated:e.elevated,style:a.props.style,position:{x:0,y:0},draggableDivStyle:{zIndex:a.props.zIndex},transform:""},console.log("****************************************************"+b.flipped),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({flipped:e.flipped,card:e.card,height:e.height,flippable:e.flippable,elevated:e.elevated,style:e.style,position:{x:0,y:0}})}},{key:"elevate",value:function(e){console.log(this.state),this.state.elevated&&(e=-e);var t=this.state.style,a=t.transform.match(/translateY\((.*?)\)/);if(a){var n=Number(a[1].slice(0,-1))-e;t.transform=t.transform.replace(/translateY(.*)/,"translateY(".concat(n,"%)"))}else t.transform+="\ntranslateY(".concat(-e,"%)");this.setState({style:t,elevated:!this.state.elevated})}},{key:"onClick",value:function(){this.props.onClick(this.props.card),console.log("position: ")}},{key:"onDragStart",value:function(e){if(this.state.draggableDivStyle={zIndex:"10",position:"fixed"},e.preventDefault(),!this.state.flipped){if(console.log("style: ",this.state.style),this.state.style&&this.state.style.transform){if(-1!==this.state.style.transform.indexOf("rotate")){console.log("derotating");var t=this.state.style.transform.slice(0,-1);this.setState({style:{transform:t.replace(/rotate(.*)/,"rotate(0)")}})}console.log("************ transforming"),this.props.removeCard(this.state.card,this.state.style)}this.props.onDragStart(this.state.card),console.log("start")}}},{key:"onDrag",value:function(){this.props.onDrag(this.state.card)}},{key:"onDragStop",value:function(){this.state.draggableDivStyle={zIndex:this.props.zIndex,position:"fixed"},this.props.onDragStop(this.state.card)}},{key:"getBindingClientRect",value:function(){return s.findDOMNode(this.refs[this.state.card]).getBoundingClientRect()}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,{position:this.state.position},r.a.createElement("div",{style:this.state.draggableDivStyle},r.a.createElement("img",Object(w.a)({ref:this.state.card,style:this.state.style,height:this.state.height,className:"Playing-card",src:!0===this.state.flipped?b.flipped:b[this.state.card],alt:!0===this.state.flipped?"Hidden Card":b[this.state.card],onClick:this.props.elevateOnClick?function(){return e.elevate(e.props.elevateOnClick)}:null},"onClick",this.onClick.bind(this)))))}}]),t}(n.Component),z=(n.Component,a(2)),E=a.n(z),N=a(9),I=(a(118),a(119),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).onHIt=Object(N.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.hit(a.props.key);case 2:case"end":return e.stop()}},e)})),a.onPass=Object(N.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.pass(a.props.key);case 2:case"end":return e.stop()}},e)})),console.assert(Array.isArray(a.props.cards),"Hands must have cards, even as an empty array"),a.cardStyles=[],console.log("Player Type : ",a.props.playerType),a.state={cards:a.props.cards,cardSize:a.props.cardSize,elevated:a.props.elevated,layout:a.props.layout},a.deadCards={},a.handLength=a.props.cards.length,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({cards:e.cards,cardSize:e.cardSize,elevated:e.elevated,layout:e.layout}),this.handLength=e.cards.length}},{key:"elevateOne",value:function(e){}},{key:"resetStack",value:function(){this.over=50}},{key:"resetSpread",value:function(){this.initialOver=110*(this.handLength-1),this.over=this.initialOver/2}},{key:"resetFanning",value:function(){this.curl=10*Math.pow(this.handLength,1.3),this.deg=this.props.cards.length>1?15*-this.handLength:0,this.degs=this.deg/2,this.initialDown=7*this.handLength,this.down=this.initialDown/2,this.initialOver=this.curl,this.over=this.initialOver/2}},{key:"spreadStyle",value:function(e){return e>0&&(this.over-=this.initialOver/(this.handLength-1)),{zIndex:e,transform:"translateX(".concat(-1*this.over-50,"%)")}}},{key:"fanStyle",value:function(e){this.handLength;return e>0&&(this.degs-=this.deg/(this.handLength-1),this.down-=this.initialDown/(this.handLength-1),this.over-=this.initialOver/(this.handLength-1)),{zIndex:e}}},{key:"stackStyle",value:function(e){return e>0&&(this.over-=20/this.handLength),{zIndex:e,transform:"translateX(".concat(-1*this.over,"%)")}}},{key:"isCardDead",value:function(e){return!!this.deadCards[e]&&this.deadCards[e].dead}},{key:"removeCard",value:function(e,t){this.isCardDead(e)||(this.deadCards[e]={dead:!0,style:t},this.handLength&&this.handLength--,this.setState(this.state))}},{key:"onClick",value:function(e){}},{key:"onDragStop",value:function(e){var t=this.state.cards[this.indexToInsertInto(e)+1];this.refs[e].state.position={x:this.refs[e].getBindingClientRect().x,y:this.refs[e].getBindingClientRect().y},console.log("card to splice into: ",t),this.state.cards.splice(this.state.cards.indexOf(e),1),this.state.cards.splice(this.indexToInsertInto(e),0,e),this.deadCards[e]&&(this.deadCards[e].dead=!1,this.handLength++,this.setState(this.state))}},{key:"onDrag",value:function(e){console.log("draggin: ");var t=this.state.cards[this.indexToInsertInto(e)+1];this.previousIndexToSpliceInto!==t&&(this.previousIndexToSpliceInto=t,this.state.cards.splice(this.previousIndexToSpliceInto,1),this.state.cards.splice(this.previousIndexToSpliceInto,0,e),this.setState(this.state))}},{key:"onDragStart",value:function(e){}},{key:"indexToInsertInto",value:function(e){for(var t=0,a=this.refs[e].getBindingClientRect().x,n=0;n<this.state.cards.length;n++)if(this.state.cards[n]!==e){if(a<this.refs[this.state.cards[n]].getBindingClientRect().x)return t;t++}return t}},{key:"render",value:function(){var e=this,t=0,a="";return"fan"===this.state.layout?(console.log("reseting fanning"),this.resetFanning(),this.styleType=this.fanStyle):"spread"===this.state.layout?(this.resetSpread(),this.styleType=this.spreadStyle):"stack"===this.state.layout&&(this.resetStack(),this.styleType=this.stackStyle),this.state.cards.length>=2&&"dealer"!==this.props.playerType&&(console.log(this.props),a=r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"btn btn-success bts"},"HIT"),r.a.createElement("button",{className:"btn btn-danger bts"},"PASS"))),r.a.createElement("div",{className:"Hand",style:{height:"stack"===this.state.layout?this.state.cardSize:2*this.state.cardSize}},this.state.cards.map(function(a){return r.a.createElement("div",null,r.a.createElement(j,{removeCard:e.removeCard.bind(e),ref:a,height:e.state.cardSize,card:a,key:a,style:e.isCardDead(a)?e.deadCards[a].style:e.styleType(t++),flipped:e.props.hide,elevateOnClick:50,onClick:e.onClick.bind(e),zIndex:t}))}),a)}}]),t}(n.Component));n.Component,a(25),a(26);function L(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return T(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw s}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var _=function(){function e(){Object(c.a)(this,e),this.cards=this.initDeck()}return Object(o.a)(e,[{key:"initDeck",value:function(){for(var e=[],t=["c","d","h","s"],a=function(e,a){var n,r=L(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;a.push(e+s)}}catch(i){r.e(i)}finally{r.f()}return a},n=1;n<10;n++)e=a(n,e);for(var r=0,s=["j","q","k"];r<s.length;r++){e=a(s[r],e)}return e}},{key:"deal",value:function(e,t,a){var n=[];for(e>this.cards.length&&(console.log("not enough cards, dealing max"),e=this.cards.length),console.log("n:",e);e;)t?(n.push("hide"),this.cards.pop()):a?a[e]?n.push(this.cards.pop()):n.push("hide"):n.push(this.cards.pop()),e--;return n}},{key:"solitaire",value:function(){for(var e=[],t=8;t>0;t--)e.push(this.deal(t,!1,{1:!0}));return e}},{key:"shuffle",value:function(){function e(e){for(var t=e.length;t;t--){var a=Math.floor(Math.random()*t),n=[e[a],e[t-1]];e[t-1]=n[0],e[a]=n[1]}return e}this.cards=e(this.cards)}}]),e}(),D=(a(122),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).state={hands:e.hands,cardSize:e.cardSize,cardWidth:225/314*e.cardSize,width:a.props.width?a.props.width:100,style:a.props.style?a.props.style:{width:a.state.width+"%"}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onClick",value:function(e){this.props.onClick(e)}},{key:"componentWillReceiveProps",value:function(e){console.log("got board some props: ",e),this.setState({hands:e.hands,cardSize:e.cardSize,cardWidth:225/314*e.cardSize,width:e.width?e.width:100,style:e.style?e.style:{width:this.state.width+"%"}})}},{key:"render",value:function(){var e=this;return console.log("hands: ",this.props.hands),r.a.createElement("div",{className:"Board",style:this.state.style},this.state.hands.map(function(t){return r.a.createElement("div",{className:"BoardHandWrapper"},r.a.createElement(I,{handId:t.handId,onClick:e.onClick.bind(e),hide:t.hide,layout:t.layout,cards:t.hand,cardSize:e.state.cardSize}))}))}}]),t}(n.Component)),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).deck=new _,a.deck.shuffle(),a.state={deck_0:a.deck.deal(6,!0),deck_1:a.deck.deal(5,!0),deck_2:a.deck.deal(4,!0),deck_3:a.deck.deal(3,!0),deck_4:a.deck.deal(2,!0),deck_5:a.deck.deal(1,!0),deck_6:[],discard:a.deck.deal(3)},a.state.deck_0=a.state.deck_0.concat(a.deck.deal(1)),a.state.deck_1=a.state.deck_1.concat(a.deck.deal(1)),a.state.deck_2=a.state.deck_2.concat(a.deck.deal(1)),a.state.deck_3=a.state.deck_3.concat(a.deck.deal(1)),a.state.deck_4=a.state.deck_4.concat(a.deck.deal(1)),a.state.deck_5=a.state.deck_5.concat(a.deck.deal(1)),a.state.deck_6=a.state.deck_6.concat(a.deck.deal(1)),a.state.draw=a.deck.deal(100,!0),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"removeOne",value:function(e){this.state[e].pop(),this.setState(Object(w.a)({},e,this.state[e]))}},{key:"render",value:function(){return this.props.cardSize?this.cardSize=this.props.cardSize:this.cardSize=110,r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"deck_0"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_0,cardSize:this.cardSize})),r.a.createElement("div",{className:"deck_1"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_1,cardSize:this.cardSize})),r.a.createElement("div",{className:"deck_2"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_2,cardSize:this.cardSize})),r.a.createElement("div",{className:"deck_3"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_3,cardSize:this.cardSize})),r.a.createElement("div",{className:"deck_4"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_4,cardSize:this.cardSize})),r.a.createElement("div",{className:"deck_5"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_5,cardSize:this.cardSize})),r.a.createElement("div",{className:"deck_6"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.deck_6,cardSize:this.cardSize})),r.a.createElement("div",{className:"hand_draw"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.draw,cardSize:this.cardSize})),r.a.createElement("div",{className:"hand_discard"},r.a.createElement(I,{hide:!1,layout:"stack",cards:this.state.discard,cardSize:this.cardSize})))}}]),t}(n.Component),H=(n.Component,a(22)),P=a.n(H),W=a(50),M=W.Map,R=(W.List,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).deck=new _,a.socket=P()("https://react-playing-card-examples.herokuapp.com"),a.cardSize=e.cardSize,a.state={handN:[],handS:[],discard:M({handId:"discard",hide:!1,hand:[],layout:"stack"}),draw:M({handId:"draw",hide:!0,hand:[],layout:"stack"})},a.socket.on("state",function(e){var t={handN:e.players.opponentState1&&e.players.opponentState1.primaryHand||[],handS:e.players.playerState.primaryHand||[],discard:a.state.discard.set("hand",e.discard),draw:a.state.draw.set("hand",e.draw)};console.log("newState: ",JSON.stringify(t)),a.setState(t)}),a.styles={twoHand:function(){return{handN:{transform:"translateY(-30%) rotate(180deg)",right:"50%",top:"0",position:"absolute"},handS:{bottom:"0",right:"50%",position:"absolute",height:"30%"},board:{left:"calc(50% - "+1.4*e.cardSize+"px)",top:"35%",position:"absolute",width:4*e.cardSize+"px"}}}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"removeOne",value:function(e){}},{key:"cb",value:function(e,t){console.log("got a state: ",t)}},{key:"onClick",value:function(e){console.log(e),"handS"===e.hand&&(console.log("discarding: ",e.card),this.socket.emit("discard",e.card)),"draw"===e.hand&&(console.log("drawing"),this.socket.emit("draw")),"discard"===e.hand&&(console.log("drawing from discard"),this.socket.emit("drawFromDiscard"))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return console.log("draw: ",this.state.draw.toJS()),r.a.createElement("div",{className:"Card-table",style:this.props.style},r.a.createElement("div",{id:"top",style:this.styles.twoHand(this.cardSize).handN},r.a.createElement(I,{onClick:this.onClick.bind(this),handId:"handN",layout:"fan",hide:!0,cards:this.state.handN,cardSize:this.cardSize})),r.a.createElement(D,{onClick:this.onClick.bind(this),width:75,cardSize:1.7*this.cardSize,style:this.styles.twoHand(this.cardSize).board,hands:[this.state.draw.toJS(),this.state.discard.toJS()]}),r.a.createElement("div",{id:"bottom",style:this.styles.twoHand(this.cardSize).handS},r.a.createElement(I,{key:this.id,onClick:this.onClick.bind(this),handId:"handS",hide:!1,layout:"fan",cards:this.state.handS,cardSize:1.7*this.cardSize})))}}]),t}(n.Component)),q=(n.Component,a(50)),J=q.Map,B=(q.List,function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).deck=new _,a.deck.shuffle(),a.socket=P()("https://react-playing-card-examples.herokuapp.com"),a.cardSize=e.cardSize,a.state={handN:a.deck.deal(2),handNE:a.deck.deal(2),handE:a.deck.deal(2),handSE:a.deck.deal(2),handS:a.deck.deal(2),handSW:a.deck.deal(2),handW:a.deck.deal(2),handNW:a.deck.deal(2),discard:J({handId:"discard",hide:!1,hand:a.deck.deal(5),layout:"spread"}),draw:J({handId:"draw",hide:!0,hand:a.deck.deal(999),layout:"stack"})},a.socket.on("state",function(e){var t={handN:e.players.opponentState0&&e.players.opponentState0.primaryHand||[],handNW:e.players.opponentState1&&e.players.opponentState1.primaryHand||[],handNE:e.players.opponentState2&&e.players.opponentState2.primaryHand||[],handE:e.players.opponentState3&&e.players.opponentState3.primaryHand||[],handSE:e.players.opponentState4&&e.players.opponentState4.primaryHand||[],handSW:e.players.opponentState5&&e.players.opponentState5.primaryHand||[],handW:e.players.opponentState6&&e.players.opponentState6.primaryHand||[],handS:e.players.playerState.primaryHand||[],discard:a.state.discard.set("hand",e.discard),draw:a.state.draw.set("hand",e.draw)};console.log("newState: ",JSON.stringify(t)),a.setState(t)}),a.styles={eightHand:function(){return{handN:{transform:"translateY(-30%) rotate(180deg)",right:"50%",top:"0",position:"absolute"},handS:{bottom:"0",right:"50%",position:"absolute",height:"30%"},handNE:{bottom:"0",right:"50%",position:"absolute",transform:"rotate(45deg) translate("+e.cardSize+"px -"+window.innerHeight()+")","transform-origin":" 0px -"+window.innerWidth/2+"px"},board:{left:"calc(50% - "+1.4*e.cardSize+"px)",top:"35%",position:"absolute",width:4*e.cardSize+"px"}}}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"removeOne",value:function(e){}},{key:"cb",value:function(e,t){console.log("got a state: ",t)}},{key:"onClick",value:function(e){console.log(e),"handS"===e.hand&&(console.log("discarding: ",e.card),this.socket.emit("discard",e.card)),"draw"===e.hand&&(console.log("drawing"),this.socket.emit("draw")),"discard"===e.hand&&(console.log("drawing from discard"),this.socket.emit("drawFromDiscard"))}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return console.log("draw: ",this.state.draw.toJS()),r.a.createElement("div",{className:"Card-table",style:this.props.style},r.a.createElement("div",{id:"top",style:this.styles.eightHand(this.cardSize).handN},r.a.createElement(I,{onClick:this.onClick.bind(this),handId:"handN",layout:"fan",hide:!0,cards:this.state.handN,cardSize:this.cardSize})),r.a.createElement(D,{onClick:this.onClick.bind(this),width:75,cardSize:this.cardSize,style:this.styles.eightHand(this.cardSize).board,hands:[this.state.draw.toJS(),this.state.discard.toJS()]}),r.a.createElement("div",{id:"bottom",style:this.styles.eightHand(this.cardSize).handS},r.a.createElement(I,{key:this.id,onClick:this.onClick.bind(this),handId:"handS",hide:!1,layout:"fan",cards:this.state.handS,cardSize:1.7*this.cardSize})),r.a.createElement("div",{id:"idk",style:this.styles.eightHand(this.cardSize).handNE},r.a.createElement(I,{key:this.id,onClick:this.onClick.bind(this),handId:"handNE",hide:!1,layout:"fan",cards:this.state.handNE,cardSize:this.cardSize})))}}]),t}(n.Component)),U=(n.Component,a(11)),F=a(15),Y=(a(149),a(155));function G(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw s}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var X=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(l.a)(t).call(this,e))).hit=function(){var e=Object(N.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({hit:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.pass=function(){var e=Object(N.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({pass:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.calculate=function(){var e=Object(N.a)(E.a.mark(function e(t,n){var r,s,i,c,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Adding adding",n,t),r=n.split("")[0],s=0,s=r>="0"&&r<="9"?parseInt(r):10,"dealer"!=t){e.next=13;break}return n.split("")[0],i=a.state.dealerScore,i+=s,e.next=10,a.setState({dealerScore:i});case 10:console.log("Dealer Score Updated : ",i),e.next=24;break;case 13:return c=Object(F.a)({},a.state.players),(o=c[t]).Score+=s,console.log("Players Score Now : ",o.Score),c[t]=o,e.next=20,a.setState({players:c});case 20:if(!(o.Score>=21)){e.next=24;break}return console.log("Player Scored Exceeded"),e.next=24,a.addToNoTurnList(t);case 24:return e.abrupt("return");case 25:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addToNoTurnList=function(){var e=Object(N.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Set(Object(U.a)(a.state.noTurnList))).add(t),e.next=4,a.setState({noTurnList:n});case 4:console.log("This Player is now out of any new turns",t);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.shuffleCardList=Object(N.a)(E.a.mark(function e(){var t,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(F.a)({},a.state),n=Object(U.a)(t.cardList),console.log("Shuffle Started"),r=function(){var e=Object(N.a)(E.a.mark(function e(t){var n,r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.length;0!==n;)s=Math.floor(Math.random()*n),r=t[n-=1],t[n]=t[s],t[s]=r;return e.next=4,a.setState({cardList:t});case 4:return e.abrupt("return");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=6,r(n);case 6:return console.log("Shuffle Stopped"),e.abrupt("return");case 8:case"end":return e.stop()}},e)})),a.addPlayer=function(){var e=Object(N.a)(E.a.mark(function e(t,n){var r,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:if(r=Object(F.a)({},a.state.players),s=Object(U.a)(a.state.playerList),i=Object(Y.a)(),0!==s.length){e.next=9;break}return a.setState({gameOver:!1}),e.next=9,a.setState({turn:0});case 9:return r[i]={Name:t,Chips:n,Cards:[],Score:0},s.push(i),e.next=13,a.setState({players:r,playerList:s});case 13:return console.log("Player Added",a.state.players),e.abrupt("return");case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.moveCard=function(){var e=Object(N.a)(E.a.mark(function e(t){var n,r,s,i,c,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(U.a)(a.state.cardList),r=Object(U.a)(a.state.distributedCards),s=n.pop(),-1!==t){e.next=17;break}return(i=Object(U.a)(a.state.dealerCards)).push(s),e.next=8,a.setState({dealerCards:i});case 8:return console.log("dealer got new cards",a.state.dealerCards),r.push(s),e.next=12,a.setState({cardList:n,distributedCards:r});case 12:return e.next=14,a.calculate("dealer",s);case 14:return e.abrupt("return");case 17:return c=Object(F.a)({},a.state.players),(o=Object(U.a)(c[t].Cards)).push(s),c[t].Cards=o,r.push(s),e.next=24,a.setState({cardList:n,players:c,distributedCards:r});case 24:return console.log("Going to Calculate"),e.next=27,a.calculate(t,s);case 27:return e.abrupt("return");case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.shouldDealerTakeCard=function(){var e=Object(N.a)(E.a.mark(function e(t){var n,r,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(U.a)(a.state.playerList),r=999999999,s=0,n.forEach(function(e){a.state.players[e].Score<r&&(r=a.state.players[e].Score),a.state.players[e].Score>s&&(s=a.state.players[e].Score)}),console.log("Current Min and Max are",r,s),r!==s){e.next=19;break}if(console.log("minscore === max score"),!(r>t)){e.next=18;break}if(console.log("min_score is greater than dealer score"),!(r>=21)){e.next=14;break}return console.log("min_score is greater than or equal to 21 then stop"),e.abrupt("return",!1);case 14:return console.log("min score is less than 21 and greater than dealer score"),e.abrupt("return",!0);case 16:e.next=19;break;case 18:return e.abrupt("return",!1);case 19:if(!(r>t)){e.next=21;break}return e.abrupt("return",!0);case 21:if(21!=r){e.next=23;break}return e.abrupt("return",!0);case 23:if(!(s<=t)){e.next=25;break}return e.abrupt("return",!1);case 25:if(!(t>r)){e.next=30;break}return e.next=28,a.getRandomInt();case 28:return i=e.sent,e.abrupt("return",i<=s-t);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getRandomInt=function(){return Math.floor(10*Math.random())+1},a.decideTurn=Object(N.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("The Turn Goes to : ",a.state.turn),""!==a.state.turn){e.next=4;break}return console.log("No one to start Play"),e.abrupt("return");case 4:if(-1!==a.state.turn){e.next=13;break}return console.log("this is dealers turn"),e.next=8,a.moveCard(-1);case 8:return console.log("then it goes to 0 player"),e.next=11,a.setState({turn:0});case 11:e.next=50;break;case 13:if(t=a.state.playerList[a.state.turn],console.log("Player ID : ",t),!a.state.noTurnList.has(t)){e.next=19;break}console.log("This player is in No Turn  list : ",t),e.next=21;break;case 19:return e.next=21,a.moveCard(t);case 21:if(!(a.state.turn+1>=a.state.playerList.length)){e.next=46;break}if(!(a.state.dealerCards.length>=2)){e.next=41;break}if(console.log("no Turn List size",a.state.noTurnList.size," then the players size",a.state.playerList.length),a.state.noTurnList.size!==a.state.playerList.length){e.next=36;break}if(console.log("Final Turn goes to dealer"),!0!==a.shouldDealerTakeCard(a.state.dealerScore)){e.next=31;break}return e.next=29,a.setState({turn:-1});case 29:e.next=33;break;case 31:console.log("Dealer turn is also over"),a.setState({gameOver:!0});case 33:return e.abrupt("return");case 36:return console.log("Turn goes to 0 index Player"),e.next=39,a.setState({turn:0});case 39:e.next=44;break;case 41:return console.log("Turn goes to dealer"),e.next=44,a.setState({turn:-1});case 44:e.next=49;break;case 46:return console.log("Turn goes to next player"),e.next=49,a.setState({turn:a.state.turn+1});case 49:console.log(a.state.players);case 50:return e.abrupt("return");case 51:case"end":return e.stop()}},e)})),a.decideWin=Object(N.a)(E.a.mark(function e(){var t,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],console.log("decide Win Invoked"),n=Object(U.a)(a.state.playerList),r=Object(F.a)({},a.state.players),a.state.dealerScore>21?n.forEach(function(e){r[e].Score<=21&&t.push(e)}):21==a.state.dealerScore?(t.push("DEALER"),n.forEach(function(e){21==r[e].Score&&t.push(e)})):(n.forEach(function(e){r[e].Score>a.state.dealerScore&&r[e].Score<22&&t.push(e)}),0==t.length&&t.push("Dealer")),console.log("Winners : ",t);case 6:case"end":return e.stop()}},e)})),a.refreshGame=Object(N.a)(E.a.mark(function e(){var t,n,r,s,i,c,o,d,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("Refreshing Game....."),t=[],n=["c","d","h","s"],r=["j","q","k"],s=function(e,t){var a,r=G(n);try{for(r.s();!(a=r.n()).done;){var s=a.value;t.push(e+s)}}catch(i){r.e(i)}finally{r.f()}},i=1;i<10;i++)s(i,t);for(c=0,o=r;c<o.length;c++)s(o[c],t);return d=Object(U.a)(a.state.playerList),l=Object(F.a)({},a.state.players),d.forEach(function(e){l[e].Cards=[],l[e].Score=0}),e.next=12,a.setState(Object(w.a)({players:l,noTurnList:new Set([]),gameOver:!1,distributedCards:[],turn:0,dealerCards:[],dealerScore:0,maxPlayerScore:0},"gameOver",!1));case 12:case"end":return e.stop()}},e)})),a._getCardSize=function(){var e=window.innerWidth/a.state.cardList.length;return"spread"!==a.state.layout||e>100?100:e};for(var n=[],r=["c","d","h","s"],s=function(e,t){var a,n=G(r);try{for(n.s();!(a=n.n()).done;){var s=a.value;t.push(e+s)}}catch(i){n.e(i)}finally{n.f()}},i=1;i<10;i++)s(i,n);for(var o=0,u=["j","q","k"];o<u.length;o++){s(u[o],n)}return a.state={cardList:n,distributedCards:[].concat([]),layout:"stack",players:{},playerList:[],playerLayout:"spread",dealerLayout:"spread",turn:-2,dealerCards:[],noTurnList:new Set([]),dealerScore:0,gameOver:!0,maxPlayerScore:0,hit:"",pass:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.playerList.map(function(t,a){return r.a.createElement("div",{className:"player",key:t},r.a.createElement(I,{playerType:"player",key:t,hide:!1,layout:e.state.playerLayout,cards:e.state.players[t].Cards,cardSize:e._getCardSize()}))});return this.state.gameOver&&this.decideWin(),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"dealer"},r.a.createElement(I,{playerType:"dealer",hide:!1,layout:this.state.dealerLayout,cards:this.state.dealerCards,cardSize:this._getCardSize()})),t,r.a.createElement("button",{onClick:function(){return e.addPlayer("Sai Kishan")}},"Add Player"),r.a.createElement("button",{onClick:function(){return e.decideTurn()},disabled:this.state.gameOver},"Turn"),r.a.createElement("button",{onClick:function(){return e.shuffleCardList()}},"Shuffle"),r.a.createElement("button",{onClick:function(){return e.refreshGame()}},"Refresh"))}}]),t}(r.a.Component);a(150);i.a.render(r.a.createElement(X,null),document.getElementById("root"))}]),[[53,1,2]]]);
//# sourceMappingURL=main.1543fe33.chunk.js.map